(window.webpackJsonp=window.webpackJsonp||[]).push([[11,5,6,7,10],{238:function(t,e,r){"use strict";var n=r(11),o=r(5),l=r(85),c=r(17),d=r(13),f=r(40),h=r(170),m=r(62),y=r(7),v=r(64),w=r(63).f,x=r(30).f,_=r(16).f,C=r(239).trim,I="Number",A=o.Number,j=A.prototype,N=f(v(j))==I,k=function(t){var e,r,n,o,l,c,d,code,f=m(t,!1);if("string"==typeof f&&f.length>2)if(43===(e=(f=C(f)).charCodeAt(0))||45===e){if(88===(r=f.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(f.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+f}for(c=(l=f.slice(2)).length,d=0;d<c;d++)if((code=l.charCodeAt(d))<48||code>o)return NaN;return parseInt(l,n)}return+f};if(l(I,!A(" 0o1")||!A("0b1")||A("+0x1"))){for(var E,F=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof F&&(N?y((function(){j.valueOf.call(r)})):f(r)!=I)?h(new A(k(e)),r,F):k(e)},T=n?w(A):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;T.length>S;S++)d(A,E=T[S])&&!d(F,E)&&_(F,E,x(A,E));F.prototype=j,j.constructor=F,c(o,I,F)}},239:function(t,e,r){var n=r(20),o="["+r(240)+"]",l=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),d=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(l,"")),2&t&&(r=r.replace(c,"")),r}};t.exports={start:d(1),end:d(2),trim:d(3)}},240:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},245:function(t,e,r){"use strict";r.r(e);r(238);var n={props:{minorInjur:{type:Number,required:!0},seriousInjur:{type:Number,required:!0},fatalities:{type:Number,required:!0}},data:function(){return{series:[this.fatalities,this.seriousInjur,this.minorInjur],chartOptions:{chart:{width:380,type:"donut"},dataLabels:{enabled:!1},labels:["Fatalities","Serious Inj","Minor Inj"],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{show:!1}}}],legend:{position:"right",offsetY:0,height:230}}}}},o=r(39),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("client-only",[r("div",{staticClass:"shadow rounded-lg"},[r("div",{staticClass:"chart-wrap"},[r("div",{attrs:{id:"chart"}},[r("apexcharts",{attrs:{type:"donut",width:"380",options:t.chartOptions,series:t.series}})],1)])])])}),[],!1,null,null,null);e.default=component.exports},246:function(t,e,r){"use strict";r.r(e);r(238);var n={props:{population:{type:Number,required:!0},totalAccidents:{type:Number,required:!0},totalFatalities:{type:Number,required:!0}},data:function(){return{infoData:{Population:this.population.toLocaleString(),"Total Accidents":this.totalAccidents.toLocaleString(),Fatalities:this.totalFatalities}}}},o=r(39),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pt-6 w-full md:w-full"},[r("section",{staticClass:"w-full "},[t._m(0),t._v(" "),r("div",{staticClass:"flex flex-wrap md:-mr-6"},t._l(t.infoData,(function(e,n){return r("div",{key:n,staticClass:"w-full md:w-1/3 md:pr-6 pb-4"},[r("div",{staticClass:"rounded-lg p-8 bg-white text-primary-500 hover:bg-primary-300 hover:text-white"},[r("strong",{staticClass:"text-xl"},[t._v(t._s(e))]),t._v(" "),r("p",[t._v(t._s(n))])])])})),0)])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"pb-4"},[r("h2",{staticClass:"text-xl"},[t._v("\n                Statistics\n            ")])])}],!1,null,null,null);e.default=component.exports},247:function(t,e,r){"use strict";r.r(e);var n={props:{totalAccidents:{type:Array,required:!1,default:function(){return[10,41,35,51,49,62,69,91,148]}},fatalities:{type:Array,required:!1,default:function(){return[5,0,15,20,25,30,35,45,90]}}},data:function(){return{series:[{name:"Total Accidents",type:"line",data:this.totalAccidents},{name:"Fatalities",type:"column",data:this.fatalities}],chartOptions:{chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"Road Traffic Accidents over the years",align:"center"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:["2013","2014","2015","2016","2017","2018","2019"]},yaxis:[{title:{text:"Total Accidents"}},{opposite:!0,title:{text:"Fatalities"}}]}}}},o=r(39),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("client-only",[r("div",{staticClass:"shadow rounded-lg bg-white pt-6 w-full "},[r("div",{attrs:{id:"chart"}},[r("apexcharts",{attrs:{type:"line",height:"350",options:t.chartOptions,series:t.series}})],1)])])}),[],!1,null,null,null);e.default=component.exports},248:function(t,e,r){"use strict";r.r(e);r(238);var n={props:{year:{type:Number,required:!0},seriousInjur:{type:Number,required:!0},fatalities:{type:Number,required:!0},minorInjury:{type:Number,required:!0},totalAccidents:{type:Number,required:!0}},computed:{deathPercentage:function(){return Math.round(this.fatalities/this.totalAccidents*100)},minorPercentage:function(){return Math.round(this.minorInjury/this.totalAccidents*100)},seriousPercentage:function(){return Math.round(this.seriousInjur/this.totalAccidents*100)}}},o=r(39),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"flex shadow"},[r("div",{staticClass:"rounded overflow-hidden m-4 sm:flex bg-white"},[r("div",{staticClass:"px-6 py-4"},[r("h2",{staticClass:"mb-2 font-black"},[t._v("\n                More Statistics!\n            ")]),t._v(" "),r("p",{staticClass:"mb-4 text-grey-dark text-sm"},[t._v("\n                For the year "+t._s(t.year)+", of the "+t._s(t.totalAccidents)+" accidents that occured "+t._s(t.deathPercentage)+"% resulted in a death, \n                while "+t._s(t.minorPercentage)+"% resulted in minor injuries and "+t._s(t.seriousPercentage)+"% reulted in serious. Although\n                thsese margings are small every life is important. We should all aim to drive \n                safely.\n                "),r("br"),t._v("\n                All the data displayed is sourced from\n                "),r("a",{staticClass:"font-bold text-primary-300",attrs:{href:"https://www.statsbots.org.bw/",target:"_blank"}},[t._v(" statistics Botswana")]),t._v(" \n                and Annual reports from "),r("a",{staticClass:"font-bold text-primary-300",attrs:{href:"https://www.statsbots.org.bw/",target:"_blank"}},[t._v(" MVA Fund")]),t._v(".\n                "),r("br"),t._v(" "),r("br"),t._v("\n                Made with love by "),r("a",{staticClass:"font-bold text-primary-300",attrs:{href:"https://github.com/Abel-Moremi",target:"_blank"}},[t._v("Abel Moremi")])])])])])}),[],!1,null,null,null);e.default=component.exports},249:function(t,e,r){var content=r(256);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(66).default)("55ac9a6e",content,!0,{sourceMap:!1})},255:function(t,e,r){"use strict";r(249)},256:function(t,e,r){var n=r(65)(!1);n.push([t.i,".nav-link[data-v-2d81391c]{transition-property:all;transition-duration:1s;transition-timing-function:cubic-bezier(.4,0,.2,1);display:block;width:2.5rem;height:2.5rem;--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity));--text-opacity:1;color:#27ab83;color:rgba(39,171,131,var(--text-opacity));border-radius:9999px;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 2px 4px 0 rgba(0,0,0,.06)}@media (min-width:768px){.nav-link[data-v-2d81391c]{width:3rem;height:3rem}}.nav-link[data-v-2d81391c]:hover,.nuxt-link-exact-active[data-v-2d81391c]{--bg-opacity:1;background-color:#27ab83;background-color:rgba(39,171,131,var(--bg-opacity));--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity));box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}",""]),t.exports=n},278:function(t,e,r){"use strict";r.r(e);var n=r(3),o=(r(33),r(31),r(245)),l=r(246),c=r(247),d=r(248),f={components:{InfoCards:l.default,LineChartComponent:c.default,DonutChartComponent:o.default,NoteComponent:d.default},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,l,c,d,f,h,m,y,v,w,x,_,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.app,t.params,t.error,n=[],o=[],l={},c={},d={},f={},h={},m=0,y=0,v=0,w=0,x=0,_=2019,e.prev=14,C=r.$fire.firestore.collection("annual-stats"),e.next=18,C.get();case 18:e.sent.forEach((function(t){if("crashes"==t.id)for(var e in l=t.data(),m=l[_],t.data())n.push(t.data()[e]);else if("fatalities"==t.id)for(var e in c=t.data(),y=c[_],t.data())o.push(t.data()[e]);else"population"==t.id?(d=t.data(),x=d[_]):"minor-injuries"==t.id?(f=t.data(),v=f[_]):"serious-injury"==t.id&&(h=t.data(),w=h[_])})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(14),console.error(e.t0);case 25:return e.abrupt("return",{crashArray:n,fatalitiesArray:o,crashData:l,fatalitiesData:c,populationData:d,year:_,totalAccidents:m,totalFatalities:y,population:x,minorInjuryData:f,minorInjury:v,seriousInjury:w,seriousInjuryData:h});case 26:case"end":return e.stop()}}),e,null,[[14,22]])})))()},methods:{switchTo2019:function(){this.yearSwitcher(2019)},switchTo2018:function(){this.yearSwitcher(2018)},switchTo2017:function(){this.yearSwitcher(2017)},switchTo2016:function(){this.yearSwitcher(2016)},yearSwitcher:function(t){this.year=t,this.totalAccidents=this.crashData[t],this.totalFatalities=this.fatalitiesData[t],this.population=this.populationData[t],this.minorInjury=this.minorInjuryData[t],this.seriousInjury=this.seriousInjuryData[t]}}},h=(r(255),r(39)),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex min-h-screen bg-primary-50"},[r("div",{staticClass:"bg-white py-4 px-3 md:py-6 md:px-8"},[r("nav",[r("ul",{staticClass:"py-4"},[r("li",{staticClass:"py-2"},[r("a",{staticClass:"nav-link",on:{click:function(e){return t.switchTo2019()}}})]),t._v(" "),r("li",{staticClass:"py-2",on:{click:function(e){return t.switchTo2018()}}},[r("a",{staticClass:"nav-link"})]),t._v(" "),r("li",{staticClass:"py-2",on:{click:function(e){return t.switchTo2017()}}},[r("a",{staticClass:"nav-link"})]),t._v(" "),r("li",{staticClass:"py-2",on:{click:function(e){return t.switchTo2016()}}},[r("a",{staticClass:"nav-link"})])])])]),t._v(" "),r("div",{staticClass:"flex-auto h-screen overflow-y-auto p-6"},[r("h1",{staticClass:"text-2xl text-primary-500 font-bold leading-normal mt-0 mb-2 text-emerald-800 text-center"},[t._v("\n      "+t._s(t.year)+" ROAD ACCIDENT ANALYTICS\n    ")]),t._v(" "),r("info-cards",{attrs:{population:t.population,totalAccidents:t.totalAccidents,totalFatalities:t.totalFatalities}}),t._v(" "),r("line-chart-component",{attrs:{fatalities:t.fatalitiesArray,totalAccidents:t.crashArray}}),t._v(" "),r("div",{staticClass:"lg:flex sm:grid items-center justify-between"},[r("div",{staticClass:"bg-white w-full mr-2 mt-4 items-center justify-between"},[r("donut-chart-component",{attrs:{fatalities:t.totalFatalities,minorInjur:t.minorInjury,seriousInjur:t.seriousInjury}})],1),t._v(" "),r("div",{staticClass:"bg-white w-full lg:ml-2 mt-4 items-center justify-between"},[r("note-component",{attrs:{totalAccidents:t.totalAccidents,fatalities:t.totalFatalities,minorInjury:t.minorInjury,seriousInjur:t.seriousInjury,year:t.year}})],1)])],1)])}),[],!1,null,"2d81391c",null);e.default=component.exports;installComponents(component,{InfoCards:r(246).default,LineChartComponent:r(247).default,DonutChartComponent:r(245).default,NoteComponent:r(248).default})}}]);